<!doctype html>
<!-- The following comment is called a MOTW comment and is necessary for the TiddlyIE Internet Explorer extension -->
<!-- saved from url=(0021)https://tiddlywiki.com -->
<html lang="en-GB">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<!--~~ Raw markup for the top of the head section ~~-->

<meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
<meta name="application-name" content="TiddlyWiki" />
<meta name="generator" content="TiddlyWiki" />
<meta name="tiddlywiki-version" content="5.3.4" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="mobile-web-app-capable" content="yes"/>
<meta name="format-detection" content="telephone=no" />
<meta name="copyright" content="TiddlyWiki created by Jeremy Ruston, (jeremy [at] jermolene [dot] com)

Copyright (c) 2004-2007, Jeremy Ruston
Copyright (c) 2007-2024, UnaMesa Association
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above copyright notice, this
  list of conditions and the following disclaimer.

* Redistributions in binary form must reproduce the above copyright notice,
  this list of conditions and the following disclaimer in the documentation
  and/or other materials provided with the distribution.

* Neither the name of the copyright holder nor the names of its
  contributors may be used to endorse or promote products derived from
  this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE." />
<link id="faviconLink" rel="shortcut icon" href="favicon.ico">
<title>My TiddlyWiki — a non-linear personal web notebook</title>
<!--~~ This is a Tiddlywiki file. The points of interest in the file are marked with this pattern ~~-->

<!--~~ Raw markup ~~-->



</head>
<body class="tc-body">
<!--~~ Raw markup for the top of the body section ~~-->

<!--~~ Static styles ~~-->
<div id="styleArea">
<style data-tiddler-title="$:/boot/boot.css" data-tiddler-type="text/css" type="text/css">/*
Basic styles used before we boot up the parsing engine
*/

/*
Error message and password prompt
*/

.tc-error-form {
	font-family: sans-serif;
	color: #fff;
	z-index: 20000;
	position: fixed;
	background-color: rgb(255, 75, 75);
	border: 8px solid rgb(255, 0, 0);
	border-radius: 8px;
	width: 50%;
	margin-left: 25%;
	margin-top: 4em;
	padding: 0 2em 1em 2em;
}

.tc-error-form h1 {
	text-align: center;
}

.tc-error-prompt {
	text-align: center;
	color: #000;
}

.tc-error-message {
	overflow: auto;
	max-height: 40em;
	padding-right: 1em;
	margin: 1em 0;
	white-space: pre-line;
}

.tc-password-wrapper {
    font-family: sans-serif;
	z-index: 20000;
	position: fixed;
	text-align: center;
	width: 200px;
	top: 4em;
	left: 50%;
	margin-left: -144px; /* - width/2 - paddingHorz/2 - border */
	padding: 16px 16px 16px 16px;
	border-radius: 8px;
}

.tc-password-wrapper {
	color: #000;
	text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
	background-color: rgb(197, 235, 183);
	border: 8px solid rgb(164, 197, 152);
}

.tc-password-wrapper form {
	text-align: left;
}

.tc-password-wrapper h1 {
	font-size: 16px;
	line-height: 20px;
	padding-bottom: 16px;
}

.tc-password-wrapper input {
	width: 100%;
}
</style>
</div>
<!--~~ Static content for Google and browsers without JavaScript ~~-->
<noscript>
<div id="splashArea">


<p>This <a class="tc-tiddlylink-external" href="https://tiddlywiki.com" rel="noopener noreferrer" target="_blank">TiddlyWiki</a> contains the following tiddlers:</p><p><ul>

<li>$:/config/ExternalJS/EnableExternalPlugins</li>

<li>$:/config/SaveWikiButton/Template</li>

<li>$:/isEncrypted</li>

<li>$:/plugins/potofcoffee2go/tw5-node-red/network.js</li>

<li>$:/state/http-requests</li>

<li>$:/state/plugin-info-1867135918-$:/plugins/cdr/external-js</li>

<li>$:/state/plugin-info-1867135918-$:/plugins/cdr/external-js---420910858</li>

<li>$:/state/tab-1749438307</li>

<li>$:/status/RequireReloadDueToPluginChange</li>

<li>$:/StoryList</li>

</ul>
</p>



<style>
.tc-remove-when-wiki-loaded {display: none;}
</style>

</div>
</noscript>
<!--~~ Ordinary tiddlers ~~-->
<script class="tiddlywiki-tiddler-store" type="application/json">[
{"created":"20240703020923952","text":"yes","title":"$:/config/ExternalJS/EnableExternalPlugins","modified":"20240703020923953"},
{"title":"$:/config/SaveWikiButton/Template","text":"$:/core/save/offline-external-js"},
{"title":"$:/isEncrypted","text":"no"},
{"title":"$:/plugins/potofcoffee2go/tw5-node-red/network.js","caption":"Node-RED Network Interface","created":"20220607214310616","modified":"20220922111705268","type":"application/javascript","module-type":"macro","text":"/*\\\n * v0.2.0\nMacro that interfaces TiddlyWiki Client to Node-Red server.\nNode-Red flows expect the message and data structures sent\nby this macro.\n\nWhen this macro is loaded by TW5 $:/boot, the uibuilder library is\nfetched from the server and is loaded into the site \u003Chead> element.\nThe library maintains a connection to the server independently from\nTiddlyWiki.\n\nExamples:\n  \u003C$button actions=\"\u003C\u003Cnode-red 'Hello'>>\" >Hello\u003C/$button>\n  \u003C$button actions=\"\u003C\u003Cnode-red 'a topic' '[[filter of tiddlers to send]]'>>\" >Send My Tiddlers\u003C/$button>\n\\*/\n\nif ($tw.browser) {\n\n// Path to uibuilder library on server\nconst socketLibrary = '/uibuilder/uibuilder.iife.min.js';\n\n// Tiddler sent on connect\nconst settingsSender = '$:/tw5-node-red/settings';\nconst settingsSendFilter = ''; // '[[$:/tw5-node-red/settings]]';\nconst serverAuthenticated = '$:/temp/tw5-node-red/authenticated';\n\n/*\n System tiddler of default server settings\n  alter fields as needed then save wiki\n  in the server folder './uibuilder/uibtw/tiddlywikis' - reload\n*/\nconst svrDefaultSettings = {\n\ttitle: '$:/tw5-node-red/settings',\n\ttags: 'tw5-node-red',\n\ttype: 'text/vnd.tiddlywiki',\n\n\tredNetstat: '$:/temp/tw5-node-red/netstat',\n\tredStore: '$:/temp/tw5-node-red/store',\n\tredData: '$:/temp/tw5-node-red/data',\n\tautoLoadPlugin: 'no',\n\tautoSend: '[[$:/temp/tw5-node-red/store]] [[$:/temp/tw5-node-red/data]]',\n\tautoTags: '[[·node-red·]]',\n\ttagWithTopic: 'no',\n\theartbeatInterval: 10000, // 0 milliseconds = no heartbeat\n\n\ttext:'{{$:/plugins/potofcoffee2go/tw5-node-red/settings/page}}'\n};\n\n\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\"use strict\";\n\n// Unique 16 char identifier for this tw5 instance\n// UUIDv4 for client id generation\nconst uuidv4 = () => {\n  return ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, c =>\n    (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16))\n}\nconst _clientid = uuidv4().replace(/-/g,'').substr(-16);\n\n// Get our settings - see if tiddler '$:/tw5-node-red/settings' exists\n//  if not, create it with the default settings\nvar settings = $tw.wiki.getTiddler(svrDefaultSettings.title);\nif (!settings) {\n\t$tw.wiki.addTiddler(new $tw.Tiddler(svrDefaultSettings));\n\tsettings = $tw.wiki.getTiddler(svrDefaultSettings.title);\n}\nsettings = settings.getFieldStrings();\n\n// Add a tiddler of the network connection status\n$tw.wiki.addTiddler(new $tw.Tiddler({\n\ttitle: settings.redNetstat,\n\ttext: 'Node-Red Offline',\n}));\n\n// Display a tiddler informing of an error\nconst showErrorTizzler = (text) => {\n\tfieldsToWiki({\n\t\ttitle: 'Node-Red macro error',\n\t\ttags: 'node-red',\n\t\ttext: text,\n\t}, true); // to story\n}\n\n// ------------------------\nconst commands = {\n\t'emit': (topic, message) => emit(topic, message)\n}\n\n/*\n $Name = 'network'\n command = 'emit'\n topic = string node-red uses to route request\n sendFilter = filter of tiddlers to send to server\n sender = $(currentTiddler)$\n*/\nexports.name = 'network';\nexports.params = [\n\t{name: 'command'},\n\t{name: 'topic'},\n\t{name: 'sendFilter'},\n\t{name: 'sender'},\n];\nexports.run = (command, topic, sendFilter, sender) => {\n\tif (!commands[command]) {\n\t\tshowErrorTizzler(`Network: Invalid command - ${command}.`);\n\t\treturn;\n\t}\n\tif (!topic) {\n\t\tshowErrorTizzler(`Network: A topic is required to send a message to the server.`);\n\t\treturn;\n\t}\n\n\t// Insure settings are current\n\tsettings = $tw.wiki.getTiddler(svrDefaultSettings.title).getFieldStrings();\n\n\t// Build network message and send it\n\tlet message = createMessage(topic, sendFilter, sender);\n\tcommands[command](message.client.topic, message);\n}\n\n// Prepare network message\n// Setup message content\nconst createMessage = (topic, sendFilter, sender) => {\n\t// Assume sender is a tiddler title - otherwize make an empty tiddler\n\tlet senderTiddler = $tw.wiki.getTiddler(sender) || new $tw.Tiddler({ title: sender });\n\tlet senderFields = senderTiddler.getFieldStrings({exclude: ['text']});\n\n\t// Meta data and tiddlers\n\tlet metaTiddlers = JSON.parse($tw.wiki.getTiddlersAsJson(`${settings.autoSend}`))\n\n\t// Tiddlers to send to Node-Red based on the sendFilter\n\tlet sendTiddlers = JSON.parse($tw.wiki.getTiddlersAsJson(sendFilter))\n\t// Remove the tags added by Node-Red\n\tsendTiddlers.forEach(tidd => {\n\t\tif (tidd.tags) {\n\t\t\ttidd.tags = stripNodeRedTags(tidd.tags);\n\t\t}\n\t})\n\n\t// Create the network message\n\t//  meta = Can be used for Status and state information\n\t//    Note: _clientid is a required field\n\t//  client = requested topic, sender ($(currentTiddler)$ without 'text'),\n\t//    tiddlers (based on sendFilter)\n\t//  server = default server topic, empty tiddler array for Node-Red to populate\n\treturn {\n\t\tmeta: { source: 'TW5', version: 'v' + $tw.version, location: window.location, _clientid, tiddlers: metaTiddlers },\n\t\tclient: { topic, sender: [senderFields], tiddlers: sendTiddlers },\n\t\tserver: { topic: 'server.tiddlers', tiddlers: [], storylist: [], deletelist: [] }\n\t\t};\n}\n\n// ------------------------\n// Network interface\n\n// Emit a topic and network object to the server\nconst emit = (topic, network) => {\n    uibuilder.send({\n        'topic': topic,\n        'network': network,\n    })\n}\n\n// Send barebones message with just a topic\nconst sendTopic = (topic) => {\n\t// Meta data and tiddlers\n\tlet metaTiddlers = JSON.parse($tw.wiki.getTiddlersAsJson(`${settings.autoSend}`))\n\n\temit(topic, {\n\t\tmeta: { source: 'TW5', version: 'v' + $tw.version, _clientid, tiddlers: metaTiddlers },\n\t\tclient: { topic, sender: [{title: 'barebones'}], tiddlers: [] },\n\t\tserver: { topic: 'server.tiddlers', tiddlers: [], storylist: [], deletelist: [] }\n\t});\n}\n\n// Listen for uibuilder connections to server\n//  A special heartbeat on (re)connects\nconst onConnect = (evt) => {\n\temit('heartbeat',createMessage('heartbeat', settingsSendFilter, settingsSender));\n\tstartHeartbeat();\n}\ndocument.addEventListener('uibuilder:socket:connected', onConnect);\n\n// ------------------------\n// Heartbeat with server\nconst hbImage = '{{$:/temp/images/phosphor-icons/fill/heart-straight-fill}} ';\nconst hbImageBeat = '{{$:/temp/images/remix-icon/health/hearts-fill}} ';\nconst hbImageBroken = '{{$:/temp/images/font-awesome/solid/heart-broken}} ';\n\n// Visually - heartbeat back and forth quicker to look pretty\nconst quickenHeartbeat = () => {\n\tif (/phosphor/.test(heart)) {\n\t\theart = hbImageBeat;\n\t\tfieldsToWiki({ title: settings.redNetstat, text: heart + heartText + tStamp() });\n\t} else if (/remix/.test(heart)) {\n\t\theart = hbImage;\n\t\tfieldsToWiki({ title: settings.redNetstat, text: heart + heartText + tStamp() });\n\t}\n}\n\n// Send heartbeat\n// Check if received a message within 4 seconds of sent heartbeat\nvar ping = 'pong';\nconst heartbeat = () => {\n\tsetTimeout(() => {\n\t\tif (ping === 'ping') {\n\t\t\tnetstat(`Node-Red Timeout`);\n\t\t}}, 4000);\n\n\tping = 'ping';\n\tsendTopic('heartbeat');\n}\n\n// Update heartbeat ping and netstat tiddler\nvar heart = '';\nvar heartText = '';\nconst netstat = (text) => {\n\tif (/Connected/.test(text)) {\n\t\tping = 'pong';\n\t\tif (!/Connected/.test(heartText)) heart = hbImageBeat;\n\t} else {\n\t\theart = hbImageBroken;\n\t}\n\theartText = text;\n\tfieldsToWiki({ title: settings.redNetstat, text: heart + heartText + tStamp() });\n}\n\n// Use heartbeat params from settings\n// Insure timers are sane values\nvar hbTimer = undefined;\nvar visHbTimer = undefined;\nconst startHeartbeat = () => {\n\tif (hbTimer) clearInterval(hbTimer);\n\tif (visHbTimer) clearInterval(visHbTimer);\n\n\theart = hbImageBeat;\n\tvisHbTimer = setInterval(quickenHeartbeat, 2000);\n\n\tif (settings.heartbeatInterval) {\n\t\thbTimer = setInterval(heartbeat,\n\t\t\tsettings.heartbeatInterval \u003C 5000\n\t\t\t? 5000\n\t\t\t: settings.heartbeatInterval);\n\t}\n}\n\n// ------------------------\n// TiddlyWiki interface\nconst story = new $tw.Story();\n\n// Create/overwrite tiddler and add to wiki from hashmap of fields\n//  includes timestamps and tagging\n//  optional display to story and fetch from server fields\nconst fieldsToWiki = (fields, tostory = false, fromServer = false, clientTopic = '') => {\n\t// Dev alert in case tags/list fields are an array - should not happen\n\t//  ie: the fields should have been strings with 'wiki.getFieldStrings()'\n\tif (Array.isArray(fields.tags)) alert('field.tags is an array');\n\tif (Array.isArray(fields.tags)) fields.tags = $tw.utils.stringifyList(fields.tags)\n\tif (Array.isArray(fields.list)) fields.list = $tw.utils.stringifyList(fields.list)\n\n\t$tw.wiki.addTiddler(new $tw.Tiddler(\n\t\t$tw.wiki.getCreationFields(),\n\t\t$tw.wiki.getModificationFields(),\n\t\tfields,\n\t\tfromServer ? fetched(fields, clientTopic) : {},\n\t))\n\tif (tostory) {\n\t\tstory.navigateTiddler(fields.title /*, fromTitle*/);\n\t}\n}\n\n// Update the wiki with array of tiddlers from server\nconst updateWiki = (svr) => {\n\tvar clientTopic = (svr.client.topic) ? `[[·topic: ${svr.client.topic}·]]` : '';\n\tif (svr.server.deletelist) {\n\t\tsvr.server.deletelist.forEach(title => {\n\t\t\t$tw.wiki.deleteTiddler(title);\n\t\t})\n\t}\n\n//\tOpen tiddler even if not in svr.server.tiddlers - undecided\n//\tif (svr.server.storylist) {\n//\t\tsvr.server.storylist.forEach(title => {\n//\t\t\tstory.navigateTiddler(title /*, fromTitle*/);\n//\t\t})\n//\t}\n\n\tsvr.server.tiddlers.forEach(fields => {\n\t\tif (svr.server.storylist.includes(fields.title)) {\n\t\t\tfieldsToWiki(fields, true, true, clientTopic); // tostory = true, from server\n\t\t} else {\n\t\t\tfieldsToWiki(fields, false, true, clientTopic); // tostory = false, from server\n\t\t}\n\t})\n\tsvr.meta.tiddlers.forEach(fields => {\n\t\tfieldsToWiki(fields, false, true, ''); // tostory = false, from server\n\t})\n}\n\n// ------------------------\n// Helpers\n// Timestamp when tiddler was 'fetched' from server\n//  and tags the tiddler as from the server (Default: 'node-red')\nconst fetched = (fields, clientTopic) => {\n\tdelete fields.fetched;\n\tconst _clientTopic = ['true', 'yes'].indexOf(settings.tagWithTopic.toLowerCase()) > -1 ? clientTopic : '';\n\treturn {\n\t\tfetched: $tw.utils.stringifyDate(new Date()),\n\t\ttags: fields.tags\n\t\t\t? `${fields.tags} ${settings.autoTags} ${_clientTopic}`\n\t\t\t: `${settings.autoTags} ${_clientTopic}`\n\t\t};\n}\n\n// Format timestamp text always same length\nconst tStamp = () => {\n\treturn ' ' + ((new Date()).toLocaleDateString(undefined, {\n\t\thourCycle: 'h23',\n\t\tyear: 'numeric', month: '2-digit', day: '2-digit',\n\t\thour: '2-digit', minute: '2-digit' //, second: '2-digit'\n\t\t})).replace(',', '');\n}\n\n// Remove Node-Red tags - (tags that start with '·' a middle dot)\nconst stripNodeRedTags = (tags) => {\n\tlet outTags = [];\n\tlet inTags = $tw.utils.parseStringArray(tags);\n\tinTags.forEach(tag => {\n\t\tif (tag[0] !== '·') outTags.push(tag);\n\t})\n\treturn $tw.utils.stringifyList(outTags);\n}\n\n// Tiddlers shared with the server\nconst addInterfaceTiddlers = () => {\n\t// Tiddlers that are sent with each message to server\n\t// A tiddler for Node-Red flows use\n\t$tw.wiki.addTiddler(new $tw.Tiddler({\n\t\ttitle: settings.redStore,\n\t\ttype: 'application/json',\n\t\ttext: `{ \"title\": \"${settings.redStore}\" }`\n\t}));\n\n\t// And a iddler for optional data\n\t$tw.wiki.addTiddler(new $tw.Tiddler({\n\t\ttitle: settings.redData,\n\t\ttype: 'application/x-tiddler-dictionary',\n\t\ttext: `title: ${settings.redData}`\n\t}));\n}\n\n// ------------------------\n// Post node-red macros and network event handlers\nconst initialize = () => {\n\t// Tiddlers shared with the server\n\taddInterfaceTiddlers();\n\n\t// Description of settings\n\t$tw.wiki.addTiddler(new $tw.Tiddler(serverSettingsDesc));\n\n\t// Macros simplify access to Node-Red server\n\t$tw.wiki.addTiddler(new $tw.Tiddler(nodeRedDefines));\n\n\t// Listen for incoming messages from server\n\t//  Perform actions based on topic\n\tuibuilder.onChange('msg', (msg) => {\n\t\tnetstat(`Node-Red Connected`);\n\n\t\t// Tiddlers from server\n\t\tif (msg.topic === 'server.tiddlers') {\n\t\t\t// Is authenticated by server - so client connection is complete\n\t\t\tif (msg.network.server.tiddlers.length &&\n\t\t\t\t\tmsg.network.server.tiddlers[0].title === serverAuthenticated) {\n\t\t\t\temit('client.onload',createMessage('client.onload',\n\t\t\t\t\tsettingsSendFilter, settingsSender));\n\t\t\t\tmsg.network.server.tiddlers.shift();\n\t\t\t}\n\t\t\tupdateWiki(msg.network);\n\t\t}\n\t\t// Server requesting tiddlers\n\t\telse if (msg.topic === 'server.request') {\n\t\t\tmsg.topic = 'client.response';\n\t\t\tif (!msg.filter) msg.filter = '[[$:/tw5-node-red/settings]]';\n\t\t\tlet tiddlers = JSON.parse($tw.wiki.getTiddlersAsJson(msg.filter));\n\t\t\tlet sender = new $tw.Tiddler(\n\t\t\t\t{ title: 'client.response', filter: msg.filter, count: tiddlers.length },\n\t\t\t\t$tw.wiki.getCreationFields(),\n\t\t\t\t$tw.wiki.getModificationFields()\n\t\t\t);\n\t\t\ttiddlers.forEach(tiddler => {\n\t\t\t\ttiddler.requested = $tw.utils.stringifyDate(new Date());\n\t\t\t})\n\t\t\tmsg.network.client.sender.push(sender.getFieldStrings({exclude: ['text']}));\n\t\t\tmsg.network.client.tiddlers = msg.network.client.tiddlers.concat(tiddlers);\n\t\t\tuibuilder.send(msg);\n\t\t}\n\t})\n\n\t// Up and running - start app level heartbeat\n\tconsole.log('TW5-Node-RED interface initialized');\n}\n\n// ------------------------\n// Fetch uibulder library from server\n//  load into site \u003Chead>,\n//   (it will connect to server automatically)\n//  initialize node-red macros and uibuilder events\n\n// Is async so TW $:/boot continues loading wiki\n//  while uibuilder is being initialized\nfetch(socketLibrary).then((res) => {\n\t// Verify library fetch successful\n\tif (res.status !== 200) {\n\t\tthrow new Error(`Unable to fetch Uibuilder - HTTP status: ${res.status}`);\n\t}\n\treturn res.text();\n}).then((text) => {\n\t// Load socket library into browser\n\tlet elem = document.createElement(\"script\");\n\telem.innerHTML = text;\n\tdocument.head.appendChild(elem);\n}).then(() => {\n\t// Initialize the network interface\n\tinitialize();\n}).catch((err) => {\n\t$tw.wiki.addTiddler(new $tw.Tiddler({\n\t\ttitle: settings.redNetstat,\n\t\ttext: 'Node-Red Offline',\n\t\tsite: '[[Go online|https://tw5-node-red.poc2go.com]] - ',\n\t}));\n\tconsole.log(err);\n});\n\n\n})();\n\n// Global macros for TiddlyWiki access to server\n//  If problems loading the network these macros will not be loaded\n//   so TiddlyWiki will quietly do nothing when they are called.\nconst nodeRedDefines = {\n\ttitle: '$:/temp/tw5-node-red/macros',\n\ttags: '$:/tags/Macro tw5-node-red',\n    text: `\\\\define node-red(topic sendFilter:\"\") \u003C$macrocall $name=network command=emit topic='$topic$' sendFilter='$sendFilter$' sender=\"$(currentTiddler)$\" />\n\nNode-Red macro\n`\n};\n\nconst serverSettingsDesc = {\n\ttitle: '$:/plugins/potofcoffee2go/tw5-node-red/settings/page',\n\ttags: 'tw5-node-red',\n\tcaption: 'TNR Settings',\n\ttype: 'text/vnd.tiddlywiki',\n\n\ttext: `| field | description | value |\n|autoTags|Tag all tidders from Node-Red|\u003C$edit-text tiddler=\"$:/tw5-node-red/settings\" field=\"autoTags\"/>|\n|autoSend|Meta tiddlers|\u003C$edit-text tiddler=\"$:/tw5-node-red/settings\" field=\"autoSend\"/>|\n|heartbeatInterval|Heartbeat ms|\u003C$edit-text tiddler=\"$:/tw5-node-red/settings\" field=\"heartbeatInterval\"/>|\n|autoLoadPlugin|On connect load the TW5-Node-RED plugin|\u003C$edit-text tiddler=\"$:/tw5-node-red/settings\" field=\"autoLoadPlugin\"/>|\n\n\u003C$checkbox tiddler=\"$:/tw5-node-red/settings\" field=\"tagWithTopic\" checked=\"yes\" unchecked=\"no\" default=\"no\"> Tag tidders with Node-Red topic (tagWithTopic) \u003C/$checkbox>\n`\n};\n\n} // if ($tw.browser)\n"},
{"title":"$:/state/http-requests","text":"0"},
{"created":"20240703020838102","title":"$:/state/plugin-info-1867135918-$:/plugins/cdr/external-js","text":"no","modified":"20240703021054922"},
{"created":"20240703020840328","title":"$:/state/plugin-info-1867135918-$:/plugins/cdr/external-js---420910858","text":"usage","modified":"20240703020840328"},
{"created":"20240703020834167","title":"$:/state/tab-1749438307","text":"$:/core/ui/ControlPanel/Plugins","modified":"20240703020834167"},
{"title":"$:/status/RequireReloadDueToPluginChange","text":"no"},
{"title":"$:/StoryList","text":"","list":"GettingStarted"}
]</script><div id="storeArea" style="display:none;"></div>
<!--~~ Raw markup for the bottom of the body section ~~-->

<!--~~ Load external JavaScripts ~~-->
<script src="myplugins-5.3.4.js" onerror="alert('Error: Cannot load myplugins-5.3.4.js');"></script>
<script src="tiddlywikicore-5.3.4.js" onerror="alert('Error: Cannot load tiddlywikicore-5.3.4.js');"></script>
</body>
</html>